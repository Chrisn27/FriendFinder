<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>FriendFinder</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	 crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
	 crossorigin="anonymous"></script>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>

<body>
	<div class="container">

		<h1 class="text-center">Survey Questions</h1>

		<hr>

		<h3><strong> About You </strong></h3>
		<h4> Name (Required)</h4>
		<input type="text" id="name" class="form-control" placeholder="First Last" required></input>


		<h4> Link to Photo (Required) </h4>
		<input type="text" id="photo" class="form-control" required></input>

		<hr>

		<h3><strong>Question One</strong></h3>
		<h4>You are loyal to those you care about</h4>
		<select data-placeholder="" class="chosen-select" id="q1">
					<option value=""></option>
					<option value="1">1 (Strongly Disagree)</option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree)</option>
				</select>

		<h3><strong>Question Two</strong></h3>
		<h4>Are you willing to do whatever it takes to win, even if that means breaking the rules?</h4>
		<select data-placeholder="" class="chosen-select" id="q2">
					<option value=""></option>
					<option value="1">1 (Strongly Disagree)</option>
					<option value="2">2 </option>
					<option value="3">3 </option>
					<option value="4">4 </option>
					<option value="5">5 (Strongly Agree)</option>
				</select>

		<h3><strong>Question Three</strong></h3>
		<h4>Is the journey more important than the destination?</h4>
		<select data-placeholder="" class="chosen-select" id="q3">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Four</strong></h3>
		<h4>You would rather be liked than be powerful</h4>
		<select data-placeholder="" class="chosen-select" id="q4">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Five</strong></h3>
		<h4>Muggles are scum!</h4>
		<select data-placeholder="" class="chosen-select" id="q5">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Six</strong></h3>
		<h4>Can you name at least 3 quidditch manuevers?</h4>
		<select data-placeholder="" class="chosen-select" id="q6">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Seven</strong></h3>
		<h4>Does the potions master hate you?</h4>
		<select data-placeholder="" class="chosen-select" id="q7">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Eight</strong></h3>
		<h4>Does Dumbledore favor you?</h4>
		<select data-placeholder="" class="chosen-select" id="q8">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Nine</strong></h3>
		<h4>You value knowledge more than wealth</h4>
		<select data-placeholder="" class="chosen-select" id="q9">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<h3><strong>Question Ten</strong></h3>
		<h4>You'd like to be a witch or wizard</h4>
		<select data-placeholder="" class="chosen-select" id="q10">
				<option value=""></option>
				<option value="1">1 (Strongly Disagree)</option>
				<option value="2">2 </option>
				<option value="3">3 </option>
				<option value="4">4 </option>
				<option value="5">5 (Strongly Agree)</option>
			</select>

		<br>
		<br>

		<button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i> Submit</button>

		<hr>

		<footer class="footer">
			<div class="container">
				<p class="text-center"><a href="/api/friends">API Friends List</a> | <a href="https://github.com/Chrisn27/FriendFinder">GitHub Repo</a></p>
			</div>
		</footer>

	</div>

	<div id="resultsModal" class="modal fade" role="dialog">

		<div class="modal-dialog">

			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h2 class="modal-title">
						<strong>Best Match</strong>
					</h2>
				</div>

				<div class="modal-body">
					<h2 id="matchName"></h2>
					<img id="matchImg" src="" alt="">
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$(document).ready(function () {

			$("#submit").on("click", function () {

				event.preventDefault();
				var valid = false;
				validateForm();

				function validateForm() {

					$('.form-control').each(function () {
						if ($(this).val() !== "")
							valid = true;
					});

					$('.chosen-select').each(function () {

						if ($(this).val() !== "")
							valid = true
					})

					return valid;
				};
				if (valid) {

					var userData = {
						name: $("#name").val(),
						photo: $("#pic").val(),
						scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(),]
					}

					$.post("/api/new/friends", userData, function (data) {
						console.log(userData);
					})

					$.get("api/best/friends", function (data) {
						$("#matchName").text(data.name);
						$('#matchImg').attr("src", data.photo);
						$("#resultsModal").modal('toggle');
						console.log(data.name);
					})

				} else {
					alert("Please fill out all fields before submitting!");
				}
				return false;
			});

		});
	</script>
</body>

</html>